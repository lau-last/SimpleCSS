/* Breakpoints */
@use "../breakpoint" as bp;

$breakpoints: bp.$breakpoints;

@mixin reset-x {
  left: auto;
  right: auto;
  translate: 0 0;
}

@mixin reset-y {
  top: auto;
  bottom: auto;
  margin-top: 0;
  margin-bottom: 0;
}


/* Animation pour les dropdown non natifs */
.dropdown {
  .dropdown-body {
    border-radius: var(--border-radius);
    opacity: 0;
    display: none;
    transform: scale(0.5);
    transform-origin: top;
    transition: opacity 0.1s ease, transform 0.1s ease;

    &.show {
      opacity: 1;
      transform: scale(1);
    }
  }
}


.dropdown,
.dropdown-native {
  position: relative;
  display: inline-block;

  .dropdown-body {
    min-width: var(--dropdown-body-min-width);
    box-shadow: var(--dropdown-body-box-shadow);
    margin-top: var(--dropdown-body-spacing-margin);
    border-radius: var(--border-radius);
    width: max-content;
    position: absolute;
    z-index: 1000;


    /* ---- Horizontal ---- */
    &.left {
      @include reset-x;
      left: 0;
    }

    &.right {
      @include reset-x;
      right: 0;
    }

    &.center {
      @include reset-x;
      left: 50%;
      translate: -50% 0;
    }

    /* ---- Vertical ---- */
    &.top {
      @include reset-y;
      bottom: 100%;
      transform-origin: bottom;
      margin-bottom: var(--dropdown-body-spacing-margin);
    }

    &.bottom {
      @include reset-y;
      top: 100%;
      transform-origin: top;
      margin-top: var(--dropdown-body-spacing-margin);
    }

    /* ---- Lat√©ral ---- */
    &.side-left {
      @include reset-x;
      @include reset-y;
      right: 100%;
      top: 0;
      transform-origin: right;
      margin-right: var(--dropdown-body-spacing-margin);
    }

    &.side-right {
      @include reset-x;
      @include reset-y;
      left: 100%;
      top: 0;
      transform-origin: left;
      margin-left: var(--dropdown-body-spacing-margin);
    }


    /* ---- Breakpoints ---- */
    @each $bp, $size in $breakpoints {
      @media (min-width: #{$size}) {

        &.left-#{$bp} {
          @include reset-x;
          left: 0;
        }

        &.right-#{$bp} {
          @include reset-x;
          right: 0;
        }

        &.center-#{$bp} {
          @include reset-x;
          left: 50%;
          translate: -50% 0;
        }

        &.top-#{$bp} {
          @include reset-y;
          bottom: 100%;
          transform-origin: bottom;
          margin-bottom: var(--dropdown-body-spacing-margin);
        }

        &.bottom-#{$bp} {
          @include reset-y;
          top: 100%;
          transform-origin: top;
          margin-top: var(--dropdown-body-spacing-margin);
        }

        &.side-left-#{$bp} {
          @include reset-x;
          @include reset-y;
          right: 100%;
          top: 0;
          transform-origin: right;
          margin-right: var(--dropdown-body-spacing-margin);
        }

        &.side-right-#{$bp} {
          @include reset-x;
          @include reset-y;
          left: 100%;
          top: 0;
          transform-origin: left;
          margin-left: var(--dropdown-body-spacing-margin);
        }
      }
    }
  }
}